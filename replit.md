# ShineCycle - Laundry Service Platform

## Overview

ShineCycle is a comprehensive laundry service platform connecting customers with laundry service providers for doorstep pickup and delivery. It offers business management tools for launderers and full administrative oversight. The platform features a mobile-first design, real-time order tracking, QR code verification, and role-based access control. Built with React, TypeScript, and Firebase, ShineCycle aims to streamline laundry operations and enhance user experience, capturing a significant share of the on-demand laundry market.

## User Preferences

Preferred communication style: Simple, everyday language.

## Recent Changes

### Local Development Setup & Firestore Index Fix (October 17, 2025)
- ✅ **Environment Configuration**: Created centralized `.env` setup for local development
  - Added `.env.example` with all Firebase variables template
  - Updated `.gitignore` to exclude `.env` files from version control
  - All environment variables use `VITE_` prefix for Vite compatibility
- ✅ **Comprehensive Documentation**: Created detailed local setup guide
  - `LOCAL_SETUP.md` with step-by-step instructions for VS Code setup
  - Firebase service configuration guide (Auth, Firestore, Storage)
  - Firestore & Storage security rules included
  - **CRITICAL: Firestore composite indexes setup** (required for queries to work)
  - Initial data setup instructions (services, coupons)
  - Test account creation guide
  - Troubleshooting section for common issues
- ✅ **Firebase Indexes Guide**: Created `FIREBASE_INDEXES.md`
  - **Fixes "Request contains an invalid argument" error**
  - Step-by-step index creation instructions
  - Direct links to auto-create indexes in Firebase Console
  - Required indexes: orders(customerId+createdAt), orders(laundererId+createdAt)
  - Quick fix using error links from browser console
- ✅ **Updated README**: Professional project overview
  - Complete tech stack documentation
  - Architecture and features overview
  - Deployment instructions for local, Replit, and mobile
  - Quick start guide with npm commands
  - Project structure visualization
- ✅ **Vite Configuration**: Already configured for local development
  - Port 5000 with strict port binding
  - Host set to 0.0.0.0 for accessibility
  - Path aliases configured (@/ for src/)

## System Architecture

### Frontend Architecture

**Core Technology Stack:**
- React 18 with TypeScript
- Vite for fast development
- Mobile-first responsive design using Tailwind CSS
- shadcn/ui component library for consistent UI

**State Management:**
- Zustand for global state management
- React Query for server state
- Custom Firebase hooks for real-time data synchronization

**Navigation & Routing:**
- React Router for client-side routing with role-based protection
- Distinct user portals for Customer, Launderer, and Admin dashboards

**UI/UX Design Patterns:**
- Gradient-based design system (dark navy, lavender, coral, teal)
- Enhanced Switch components, Framer Motion for animations
- Responsive bottom navigation for mobile
- QR code generation/scanning for order verification
- Real-time order status timeline with skeleton loading states

### Authentication & Authorization

**Authentication Service:**
- Firebase Authentication with email/password for all users (customers, launderers, admins)
- Unified login flow (`/login`) and signup (`/signup`) with role selection
- Firebase Auth state management with custom hooks, logout, and account deletion functionality
- 7-day authentication persistence using `browserLocalPersistence`

**Role-Based Access Control:**
- Three distinct user roles: customer, launderer, admin
- Role-specific UI and feature access, protected routes
- Profile completion flow after signup

### Data Layer

**Firebase Firestore Collections:**
- `users` (profiles, roles, business details)
- `userSettings` (preferences)
- `orders` (items, status, tracking)
- `messages` (customer-launderer communication)
- `services` (laundry service catalog)
- `coupons` (promotional discount codes)
- `disputes` (complaints)
- Addresses subcollection (`users/{userId}/addresses`)

**Real-Time Data Synchronization:**
- Custom hooks for live updates from Firestore using `onSnapshot`
- Role-based query filters and Firestore Security Rules for data security
- Unique order IDs generated by Firestore `addDoc()`

### File Storage

**Firebase Storage:**
- User avatar and business logo uploads in `profile-images/{userId}/{filename}`

### Mobile App Support

**Capacitor Integration:**
- Native iOS and Android app capabilities via Capacitor
- Includes Camera, Geolocation, Push, Haptics, Share, Splash plugins
- Touch-optimized UI and native QR scanning

### Order Management System

**Order Workflow:**
- Customer order creation (service, items, scheduling)
- Multiple service selection per order
- QR code generation for verification (format: LAUNDRY-{firestoreDocId})
- Launderer acceptance/rejection and processing via a scanner (`/launderer/scan`)
- Real-time status updates (pending → confirmed → picked_up → in_progress → ready → out_for_delivery → completed)
- Invoice generation and download (PDF using jsPDF)
- Post-completion rating and feedback

### Admin Dashboard

**Oversight Capabilities:**
- Real-time metrics (orders, revenue, users)
- User, service, and coupon management (CRUD operations)
- Dispute resolution
- Order assignment to launderers
- System-wide settings and announcements

## External Dependencies

### Firebase Services
- **Firebase Authentication**: User authentication (email/password).
- **Cloud Firestore**: NoSQL database for real-time data.
- **Firebase Storage**: File uploads (avatars, logos).
- **Firebase Project ID**: `istri-82971`.

### Third-Party Libraries
- **Radix UI**: Accessible component primitives.
- **React Hook Form**: Form state management with Zod validation.
- **date-fns**: Date manipulation.
- **qrcode.react**: QR code generation.
- **Embla Carousel**: Touch-friendly carousel.
- **Lucide React**: Icon library.
- **Sonner**: Toast notification system.
- **jsPDF**: PDF invoice generation.
- **html5-qrcode**: QR scanning.

### Environment Configuration
- `VITE_FIREBASE_API_KEY`
- `VITE_FIREBASE_AUTH_DOMAIN`
- `VITE_FIREBASE_PROJECT_ID`